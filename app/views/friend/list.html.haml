.container-fluid.py-4
    .row.justify-content-center
        .col-md-8
            .d-flex.justify-content-between.align-items-center.mb-4
                %h1.mb-0 Friends
                %a{href: "/users/find", class: "btn btn-primary"} Add Users

            - unless @pending_followers.empty?
                .card.mb-4
                    .card-header.bg-light
                        %h3.mb-0 Pending Followers
                    .card-body.p-0
                        .list-group.list-group-flush
                            - @pending_followers.each do |follower|
                                .list-group-item.d-flex.justify-content-between.align-items-center
                                    %a.text-decoration-none.text-dark{href: "/users/view?id=#{follower.id}"}
                                        = follower.name
                                    .btn-group
                                        = button_to "Accept", friend_accept_path(follower), method: :post, class: "btn btn-success btn-sm"
                                        = button_to "Reject", friend_reject_path(follower), method: :post, class: "btn btn-danger btn-sm"

            - unless @pending_following.empty?
                .card.mb-4
                    .card-header.bg-light
                        %h3.mb-0 Pending Following
                    .card-body.p-0
                        .list-group.list-group-flush
                            - @pending_following.each do |following|
                                .list-group-item.d-flex.justify-content-between.align-items-center
                                    %a.text-decoration-none.text-dark{href: "/users/view?id=#{following.id}"}
                                        = following.name
                                    = button_to "Cancel Request", friend_unfollow_path(following), method: :post, class: "btn btn-warning btn-sm"

            .card.mb-4
                .card-header.bg-light
                    %h3.mb-0 Followers
                .card-body.p-0
                    - if @followers.empty?
                        .text-muted.text-center.py-4
                            You have no followers yet.
                    - else
                        .list-group.list-group-flush
                            - @followers.each do |follower|
                                .list-group-item.d-flex.justify-content-between.align-items-center
                                    %a.text-decoration-none.text-dark{href: "/users/view?id=#{follower.id}"}
                                        = follower.name
                                    .d-flex.align-items-center
                                        - if follower.streakcount > 1
                                            .badge.badge-pill.badge-dark.px-2.font-weight-bold.mr-2
                                                ðŸ”¥ #{follower.streakcount}
                                        - if follower.midworkout
                                            .badge.badge-pill.badge-success.px-2.font-weight-light.mr-2
                                                Online
                                        - if follower.last_set != nil
                                            .badge.badge-pill.badge-secondary.px-2.font-weight-light.mr-2
                                                Last seen #{follower.last_seen}
                                        = button_to "Ã—", friend_remove_follower_path(follower), method: :post, class: "btn btn-danger btn-sm", style: "padding: 0.1rem 0.5rem; font-size: 1.2rem; line-height: 1.2;"

            .card.mb-4
                .card-header.bg-light
                    %h3.mb-0 Following
                .card-body.p-0
                    - if @following.empty?
                        .text-muted.text-center.py-4
                            You are not following anyone yet.
                    - else
                        .list-group.list-group-flush
                            - @following.each do |following|
                                .list-group-item.d-flex.justify-content-between.align-items-center
                                    %a.text-decoration-none.text-dark{href: "/users/view?id=#{following.id}"}
                                        = following.name
                                    .d-flex.align-items-center
                                        - if following.streakcount > 1
                                            .badge.badge-pill.badge-dark.px-2.font-weight-bold.mr-2
                                                ðŸ”¥ #{following.streakcount}
                                        - if following.midworkout
                                            .badge.badge-pill.badge-success.px-2.font-weight-light.mr-2
                                                Online
                                        - if following.last_set != nil
                                            .badge.badge-pill.badge-secondary.px-2.font-weight-light.mr-2
                                                Last seen #{following.last_seen}
                                        = button_to "Unfollow", friend_unfollow_path(following), method: :post, class: "btn btn-danger btn-sm"
