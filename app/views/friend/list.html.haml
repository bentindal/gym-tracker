.container-fluid.py-4
    .row.justify-content-center
        .col-md-8
            .d-flex.justify-content-between.align-items-center.mb-4
                %h1.mb-0 Friends
                %a{href: "/users/find", class: "btn btn-primary"} Add Users

            - unless @pending_followers.empty?
                .card.mb-4
                    .card-header.bg-light
                        %h3.mb-0 Pending Followers
                    .card-body
                        .list-group
                            - @pending_followers.each do |follower|
                                .list-group-item.d-flex.justify-content-between.align-items-center
                                    %span= follower.name
                                    .btn-group
                                        = button_to "Accept", friend_accept_path(follower), method: :post, class: "btn btn-success btn-sm"
                                        = button_to "Reject", friend_reject_path(follower), method: :post, class: "btn btn-danger btn-sm"

            - unless @pending_following.empty?
                .card.mb-4
                    .card-header.bg-light
                        %h3.mb-0 Pending Following
                    .card-body
                        .list-group
                            - @pending_following.each do |following|
                                .list-group-item.d-flex.justify-content-between.align-items-center
                                    %span= following.name
                                    = button_to "Cancel Request", friend_unfollow_path(following), method: :post, class: "btn btn-warning btn-sm"

            .card.mb-4
                .card-header.bg-light
                    %h3.mb-0 Followers
                .card-body
                    - if @followers.empty?
                        .text-muted.text-center.py-3
                            You have no followers yet.
                    - else
                        .list-group
                            - @followers.each do |follower|
                                .list-group-item.d-flex.justify-content-between.align-items-center
                                    %span= follower.name
                                    = button_to "Remove Follower", friend_remove_follower_path(follower), method: :post, class: "btn btn-danger btn-sm"

            .card.mb-4
                .card-header.bg-light
                    %h3.mb-0 Following
                .card-body
                    - if @following.empty?
                        .text-muted.text-center.py-3
                            You are not following anyone yet.
                    - else
                        .list-group
                            - @following.each do |following|
                                .list-group-item.d-flex.justify-content-between.align-items-center
                                    %span= following.name
                                    = button_to "Unfollow", friend_unfollow_path(following), method: :post, class: "btn btn-danger btn-sm"
